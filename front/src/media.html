<template>
    <div class="card">
        <div class="card-header">
            <h1>
                <i class="${media.icon}"></i><input type="text" name="name" class="form-control" value.bind="media.name" disabled.bind="isEdit">
            </h1>
         
        </div>
    <div class="card-body">
        <p> Artist: <input type="text" name="firstname" class="form-control" value.bind="media.author" disabled.bind="isEdit"></p>
        
        <p> Release date :<input type="text" name="firstname" class="form-control" value.bind="media.date" disabled.bind="isEdit"></p>
        

        <p if.bind="!isEdit">icon (font awesome) (exemple : fas fa-compact-disc) : <input type="text" name="icon" class="form-control" value.bind="media.icon" disabled.bind="isEdit"></p>
        <p if.bind="isEdit">type : ${media.type}</p>
        <p if.bind="!isEdit">type
            <select class="form-control" value.bind="selectedType">
                <option model.bind="null">Choose...</option>
                <option repeat.for="type of types"
                        model.bind="type.name"> ${type.name}
                </option>
            </select>
        </p>
        <span repeat.for="key of media.keyWords" class="badge badge-pill badge-success">${key}</span>
        <p>Keys words:<input type="text" name="keyWords" class="form-control" value.bind="updateKeyWords" disabled.bind="isEdit"></p>
        <br>
        <br>
        <p> Publicator: ${publicator.name} ${publicator.firstname}</p>
    </div>
    <div if.bind="!isEdit">
        <button type="submit" id="save" class="btn btn-primary" click.delegate="updateMedia()" ><i class="fas fa-save"></i></button>
    </div>

	<div class="card">
		<div class="card-body">
			<input type="text" id="commt" name="commtext" class="form-control" placeholder='Add a comment..' value.bind="nComment">
			<div class="rating">
				<input id="star1" type="button" class="btn btn-warning" click.delegate="firstStar()" value="☆"/>
				<input id="star2" type="button" class="btn btn-warning" click.delegate="secondStar()" value="☆"/>
				<input id="star3" type="button" class="btn btn-warning" click.delegate="thirdStar()" value="☆"/>
				<input id="star4" type="button" class="btn btn-warning" click.delegate="fourthStar()" value="☆"/>
				<input id="star5" type="button" class="btn btn-warning" click.delegate="fifthStar()" value="☆"/>
			</div>
			<div style="float: right; margin-top: 10px"><button type="button" class="btn btn-primary" click.delegate="addComment()" ><i class="fas fa-plus"></i></button></div>
		</div>
	</div>
	<div class="card" repeat.for="comment of comments">
		<div class="card-header">
            <h6>
                <p>${comment.publisherName}</p>
            </h6>
        </div>
		<div class="card-body">
      <div style="float:right" repeat.for="i of 5-comment.grade"><i class="far fa-star"></i></div>
      <div style="float:right" repeat.for="i of comment.grade / 10 * 10"><i class="fas fa-star"></i></div>
      <p>${comment.text}</p>
		</div>
	</div>
</template>
